# Restate Rust SDK v0.8.0 Release Notes

## Highlights

- **MSRV raised to 1.85.0** with Rust edition 2024 — ensure your toolchain is up to date
- **Invocation ID now accessible** from all handler context types via `invocation_id()`
- **`ProtocolMode` and `HandleOptions` are now public** — enabling custom server integrations beyond the built-in HTTP server and Lambda endpoint

## Table of Contents

- [Breaking Changes](#breaking-changes)
- [New Features](#new-features)

## Breaking Changes

### Rust edition 2024 and MSRV 1.85.0

The SDK now uses Rust edition 2024 and requires a minimum supported Rust version (MSRV) of **1.85.0** (previously 1.76.0).

**Impact on Users:**
- Projects using an older Rust toolchain will fail to compile against this version of the SDK
- Your own crate's `edition` field does not need to change, but your installed Rust toolchain must be >= 1.85.0

**Migration Guidance:**

Update your Rust toolchain:

```bash
rustup update stable
```

Verify your version:

```bash
rustc --version  # Must be >= 1.85.0
```

**Related Issues:**
- PR [#82](https://github.com/restatedev/sdk-rust/pull/82)

## New Features

### Invocation ID available in handler context

All handler context types now expose an `invocation_id()` method that returns the current Restate invocation ID as a `&str`.

This is useful for logging, debugging, and correlating requests across services.

**Example:**

```rust
impl Greeter for GreeterImpl {
    async fn greet(&self, ctx: Context<'_>, name: String) -> HandlerResult<String> {
        let id = ctx.invocation_id();
        tracing::info!("Handling invocation {id} for {name}");
        Ok(format!("Greetings {name}"))
    }
}
```

Available on all context types: `Context`, `ObjectContext`, `SharedObjectContext`, `WorkflowContext`, and `SharedWorkflowContext`.

**Related Issues:**
- PR [#83](https://github.com/restatedev/sdk-rust/pull/83)

### Public `ProtocolMode`, `HandleOptions`, and `handle_with_options`

`ProtocolMode`, `HandleOptions`, and the `Endpoint::handle_with_options()` method are now part of the public API (exported via the prelude).

This enables building custom server integrations beyond the built-in `HttpServer` and `LambdaEndpoint`. For example, you can now implement your own HTTP framework adapter or request-response transport by calling `handle_with_options` directly with the desired `ProtocolMode`.

**Related Issues:**
- PR [#86](https://github.com/restatedev/sdk-rust/pull/86)